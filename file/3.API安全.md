####  API安全 常见的安全机制

1. 什么是API

    Application Programming Interface，应用程序接口 

2. API安全的要素有哪些

   1. 信息安全、网络安全、应用安全
   2. 目标：CIA，机密性、完整性、可用性
   3. 常见的API风险：欺骗、干预、否认、信息泄露、拒绝服务、越权
   4. 常见的安全机制：
      1. 加密
      2. 流控：当API过载时拒绝多余的请求
      3. 认证：确保用户是他声明的身份
      4. 审计：记录谁什么时候做了什么
      5. 授权：决定一个请求是否可以被执行

3. API安全基本机制

####  第一个API及注入攻击防护 

```
官方文档：
Spring Boot Reference Documentation
Using Spring Boot
Using Spring Boot without the Parent POM
```

```
重要：pom.xml -> Maven -> Show Effective POM
```

创建数据库：

```
数据库名称：noc_security
字符集：utf8 -- UTF-8 Unicode
排序规则：utf8_general_ci
```

SQL注入

```
http://localhost:8080/users?name=' or 1=1 or name='
```

####  API安全机制之流控 

当限流机制生效时，请求应该立即被拒绝，并返回Http状态码429（Too Many Request）

```
https://mvnrepository.com/ 查看guava版本
```

限流过滤器：RateLimitFilter

####  API安全机制之认证 

####  API安全机制之数据校验 

####  API安全机制之数据加密 

####  API安全机制之Https 

####  API安全机制之审计日志 

####  API安全机制之授权 

####  API安全机制之登录 

####  session固定攻击防护 

####  重构代码 

####  小结 